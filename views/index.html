<link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>

<table id="userTable" style="
      border-collapse: collapse; 
      width: 100%; 
      font-family: Arial, sans-serif; 
      box-shadow: 0 5px 15px rgba(0,0,0,0.2); 
      border-radius: 10px; 
      overflow: hidden;">
  <thead>
    <tr style="background-color:#4CAF50; color:white; text-align:center;">
      <th style="padding:12px;" class="text-center">Name</th>
      <th style="padding:12px;" class="text-center">Email</th>
      <th style="padding:12px;" class="text-center">Actions</th>
    </tr>
  </thead>
  <tbody>
    {{range .Users}}
    <tr style="text-align:center; background-color:#f9f9f9;">
      <td style="padding:10px;">{{.Name}}</td>
      <td style="padding:10px;">{{.Email}}</td>
      <td style="padding:10px;">
        <!-- Action Buttons -->
        <a href="/users/{{.ID}}" class="btn btn-sm btn-info" style="color:white; padding:5px 10px; border-radius:5px; margin-right:5px;">View</a>
        <a href="/users/edit/{{.ID}}" class="btn btn-sm btn-warning" style="color:white; padding:5px 10px; border-radius:5px; margin-right:5px;">Edit</a>
        <a href="/users/delete/{{.ID}}" class="btn btn-sm btn-danger" style="color:white; padding:5px 10px; border-radius:5px;" onclick="return confirm('Are you sure you want to delete this user?');">Delete</a>
      </td>
    </tr>
    {{else}}
    <tr>
      <td colspan="3" style="padding:12px; text-align:center; color:gray;">
        No users found
      </td>
    </tr>
    {{end}}
  </tbody>
</table>

<script>
  $(document).ready(function () {
    $('#userTable').DataTable({
      "paging": true,
      "searching": true,
      "ordering": true,
      "info": true,
      "lengthMenu": [5, 10, 25, 50, 100],
      "pageLength": 10,   // default rows per page
      "autoWidth": false, // prevent auto width issues
      "responsive": true  // mobile friendly
    });
  });
</script>
